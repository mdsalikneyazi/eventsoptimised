import{r as l,j as e,F as E,a as L,L as U,b as g}from"./index-SC4g_td_.js";import{i as V,u as w,M as A,m as I,a as R,f as F,c as M,b as f,d as b}from"./proxy-CL1oWOIa.js";function D(...t){const o=!Array.isArray(t[0]),a=o?0:-1,r=t[0+a],n=t[1+a],c=t[2+a],d=t[3+a],u=V(n,c,d);return o?u(r):u}function j(t){const o=w(()=>I(t)),{isStatic:a}=l.useContext(A);if(a){const[,r]=l.useState(t);l.useEffect(()=>o.on("change",r),[])}return o}function y(t,o){const a=j(o()),r=()=>a.set(o());return r(),R(()=>{const n=()=>F.preRender(r,!1,!0),c=t.map(d=>d.on("change",n));return()=>{c.forEach(d=>d()),M(r)}}),a}function Y(t){f.current=[],t();const o=y(f.current,t);return f.current=void 0,o}function T(t,o,a,r){if(typeof t=="function")return Y(t);const n=typeof o=="function"?o:D(o,a,r);return Array.isArray(t)?v(t,n):v([t],([c])=>n(c))}function v(t,o){const a=w(()=>[]);return y(t,()=>{a.length=0;const r=t.length;for(let n=0;n<r;n++)a[n]=t[n].get();return o(a)})}const $=()=>{const[t,o]=l.useState([]),[a,r]=l.useState([]),[n,c]=l.useState(!0),[d,u]=l.useState(""),[N,C]=l.useState(0),x=j(0),S=T(x,[0,500],[0,-50]),k=l.useRef();l.useEffect(()=>{(async()=>{try{const[i,z]=await Promise.all([g.get("/api/auth/clubs"),g.get("/api/posts/feed")]);o(i.data);const p=z.data.filter(m=>m.mediaType==="image"&&m.mediaUrl).map(m=>m.mediaUrl).slice(0,5);r(p.length?p:["https://images.unsplash.com/photo-1523050854058-8df90110c9f1?q=80&w=2070"]),c(!1)}catch(i){console.error(i),r(["https://images.unsplash.com/photo-1523050854058-8df90110c9f1?q=80&w=2070"]),c(!1)}})()},[]),l.useEffect(()=>{if(a.length<=1)return;const s=setInterval(()=>C(i=>(i+1)%a.length),5e3);return()=>clearInterval(s)},[a.length]),l.useEffect(()=>{const s=()=>x.set(window.scrollY);return window.addEventListener("scroll",s,{passive:!0}),()=>window.removeEventListener("scroll",s)},[x]);const h=t.filter(s=>s.name.toLowerCase().includes(d.toLowerCase()));return e.jsxs("div",{className:"min-h-screen bg-black text-white pb-24",children:[e.jsxs("div",{ref:k,className:"relative h-[450px] md:h-[600px] w-full overflow-hidden mb-8 group",children:[e.jsx(b.div,{style:{y:S},className:"absolute inset-0 w-full h-full",children:a.map((s,i)=>e.jsxs("div",{className:`absolute inset-0 transition-opacity duration-1000 ease-in-out ${i===N?"opacity-100":"opacity-0"}`,children:[e.jsx("img",{src:s,alt:"Club Activity",className:"w-full h-full object-cover transform scale-105 group-hover:scale-100 transition-transform duration-[8000ms]"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-black/60 to-black"})]},i))}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center px-4 z-10 mt-10",children:[e.jsx("div",{className:"bg-indigo-500/20 text-indigo-300 border border-indigo-500/30 px-4 py-1.5 rounded-full text-xs font-bold tracking-wider mb-6 backdrop-blur-md uppercase shadow-xl animate-fadeIn",children:"@Campus Clubs"}),e.jsxs("h1",{className:"text-4xl md:text-7xl font-extrabold text-white leading-tight mb-6 drop-shadow-2xl tracking-tight",children:["Find Your ",e.jsx("br",{}),e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400",children:"Community"})]}),e.jsxs("p",{className:"text-zinc-200 max-w-lg text-sm md:text-lg mb-8 font-medium drop-shadow-md",children:["Explore ",t.length," student-run clubs, join exclusive events, and build your campus legacy."]}),e.jsxs("div",{className:"relative w-full max-w-md mx-auto transform hover:scale-105 transition-transform duration-300",children:[e.jsx(E,{className:"absolute left-5 top-4 text-zinc-400"}),e.jsx("input",{type:"text",placeholder:"Search for clubs...",className:"w-full bg-white/10 backdrop-blur-xl border border-white/20 rounded-full py-3.5 pl-14 pr-6 text-white placeholder-zinc-300 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:bg-black/40 transition-all shadow-2xl",value:d,onChange:s=>u(s.target.value)})]})]})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(L,{className:"text-indigo-500"})," Directory"]}),e.jsxs("span",{className:"text-xs text-zinc-500 font-medium uppercase tracking-wide",children:[h.length," Active Clubs"]})]}),n?e.jsx("div",{className:"text-center py-20 text-zinc-500 animate-pulse",children:"Loading Directory..."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map((s,i)=>e.jsx(b.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:i*.1},children:e.jsx(U,{to:`/clubs/${s._id}`,className:"group block",children:e.jsxs("div",{className:"bg-zinc-900/50 border border-zinc-800/50 rounded-2xl overflow-hidden hover:border-indigo-500/50 hover:bg-zinc-900 transition-all active:scale-95 duration-200 shadow-lg hover:shadow-indigo-500/10",children:[e.jsxs("div",{className:"h-36 bg-zinc-800 relative",children:[s.bannerUrl?e.jsx("img",{src:s.bannerUrl,alt:"",className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 group-hover:scale-105 transition-all duration-500"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-zinc-800 to-zinc-900"}),e.jsx("div",{className:"absolute -bottom-6 left-4",children:e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-black p-1 border border-zinc-800 shadow-2xl group-hover:border-indigo-500/50 transition-colors",children:s.logoUrl?e.jsx("img",{src:s.logoUrl,alt:"",className:"w-full h-full object-cover rounded-xl"}):e.jsx("div",{className:"w-full h-full bg-indigo-600 rounded-xl flex items-center justify-center text-xl font-bold",children:s.name[0]})})})]}),e.jsxs("div",{className:"pt-10 pb-5 px-5",children:[e.jsx("h3",{className:"font-bold text-lg text-white group-hover:text-indigo-400 transition-colors truncate",children:s.name}),e.jsx("p",{className:"text-zinc-400 text-sm mt-1 line-clamp-2 min-h-[40px] leading-relaxed",children:s.description||"No description provided yet."})]})]})})},s._id))})]})]})};export{$ as default};
